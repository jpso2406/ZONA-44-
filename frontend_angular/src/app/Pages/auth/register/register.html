<app-navbar></app-navbar>
<div class="register-container">
  <div class="register-card">
    <!-- Header -->
    <div class="register-header">
      <button class="back-btn" (click)="goToHome()">
        <i class="fas fa-arrow-left"></i>
      </button>
      
      
    
      <h1>¡Únete a nosotros!</h1>
      <p>Crea tu cuenta y comienza a disfrutar de nuestros servicios</p>
    </div>

    <!-- Form -->
    <form class="form" (ngSubmit)="onSubmit()" #registerForm="ngForm">
      
      <!-- Personal Information -->
      <div class="form-section">
        <h3 class="section-title">
          <i class="fas fa-user"></i>
          Información Personal
        </h3>
        
        <!-- First Name -->
        <div class="flex-column">
          <label>Nombre</label>
        </div>
        <div class="inputForm">
          <svg height="20" viewBox="0 0 24 24" width="20" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" fill="currentColor"/>
          </svg>
          <input 
            type="text" 
            class="input" 
            placeholder="Tu nombre"
            name="first_name"
            [(ngModel)]="userData.first_name"
            required
          >
        </div>

        <!-- Last Name -->
        <div class="flex-column">
          <label>Apellido</label>
        </div>
        <div class="inputForm">
          <svg height="20" viewBox="0 0 24 24" width="20" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" fill="currentColor"/>
          </svg>
          <input 
            type="text" 
            class="input" 
            placeholder="Tu apellido"
            name="last_name"
            [(ngModel)]="userData.last_name"
            required
          >
        </div>

        <!-- Phone -->
        <div class="flex-column">
          <label>Teléfono</label>
        </div>
        <div class="inputForm">
          <svg height="20" viewBox="0 0 24 24" width="20" xmlns="http://www.w3.org/2000/svg">
            <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z" fill="currentColor"/>
          </svg>
          <input 
            type="tel" 
            class="input" 
            placeholder="300 123 4567"
            name="phone"
            [(ngModel)]="userData.phone"
            required
          >
        </div>
      </div>

      <!-- Contact Information -->
      <div class="form-section">
        <h3 class="section-title">
          <i class="fas fa-envelope"></i>
          Información de Contacto
        </h3>
        
        <!-- Email -->
        <div class="flex-column">
          <label>Email</label>
        </div>
        <div class="inputForm">
          <svg height="20" viewBox="0 0 32 32" width="20" xmlns="http://www.w3.org/2000/svg">
            <g id="Layer_3" data-name="Layer 3">
              <path d="m30.853 13.87a15 15 0 0 0 -29.729 4.082 15.1 15.1 0 0 0 12.876 12.918 15.6 15.6 0 0 0 2.016.13 14.85 14.85 0 0 0 7.715-2.145 1 1 0 1 0 -1.031-1.711 13.007 13.007 0 1 1 5.458-6.529 2.149 2.149 0 0 1 -4.158-.759v-10.856a1 1 0 0 0 -2 0v1.726a8 8 0 1 0 .2 10.325 4.135 4.135 0 0 0 7.83.274 15.2 15.2 0 0 0 .823-7.455zm-14.853 8.13a6 6 0 1 1 6-6 6.006 6.006 0 0 1 -6 6z"></path>
            </g>
          </svg>
          <input 
            type="email" 
            class="input" 
            placeholder="tu@email.com"
            name="email"
            [(ngModel)]="userData.email"
            required
          >
        </div>

        <!-- Password -->
        <div class="flex-column">
          <label>Contraseña</label>
        </div>
        <div class="inputForm">
          <svg height="20" viewBox="-64 0 512 512" width="20" xmlns="http://www.w3.org/2000/svg">
            <path d="m336 512h-288c-26.453125 0-48-21.523438-48-48v-224c0-26.476562 21.546875-48 48-48h288c26.453125 0 48 21.523438 48 48v224c0 26.476562-21.546875 48-48 48zm-288-288c-8.8125 0-16 7.167969-16 16v224c0 8.832031 7.1875 16 16 16h288c8.8125 0 16-7.167969 16-16v-224c0-8.832031-7.1875-16-16-16zm0 0"></path>
            <path d="m304 224c-8.832031 0-16-7.167969-16-16v-80c0-52.929688-43.070312-96-96-96s-96 43.070312-96 96v80c0 8.832031-7.167969 16-16 16s-16-7.167969-16-16v-80c0-70.59375 57.40625-128 128-128s128 57.40625 128 128v80c0 8.832031-7.167969 16-16 16zm0 0"></path>
          </svg>
          <input 
            [type]="showPassword ? 'text' : 'password'" 
            class="input" 
            placeholder="Mínimo 6 caracteres"
            name="password"
            [(ngModel)]="userData.password"
            required
          >
          <button 
            type="button" 
            class="password-toggle" 
            (click)="togglePasswordVisibility()"
            [class.active]="showPassword"
          >
            <svg viewBox="0 0 576 512" height="1em" xmlns="http://www.w3.org/2000/svg">
              <path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"></path>
            </svg>
          </button>
        </div>

        <!-- Confirm Password -->
        <div class="flex-column">
          <label>Confirmar Contraseña</label>
        </div>
        <div class="inputForm">
          <svg height="20" viewBox="-64 0 512 512" width="20" xmlns="http://www.w3.org/2000/svg">
            <path d="m336 512h-288c-26.453125 0-48-21.523438-48-48v-224c0-26.476562 21.546875-48 48-48h288c26.453125 0 48 21.523438 48 48v224c0 26.476562-21.546875 48-48 48zm-288-288c-8.8125 0-16 7.167969-16 16v224c0 8.832031 7.1875 16 16 16h288c8.8125 0 16-7.167969 16-16v-224c0-8.832031-7.1875-16-16-16zm0 0"></path>
            <path d="m304 224c-8.832031 0-16-7.167969-16-16v-80c0-52.929688-43.070312-96-96-96s-96 43.070312-96 96v80c0 8.832031-7.167969 16-16 16s-16-7.167969-16-16v-80c0-70.59375 57.40625-128 128-128s128 57.40625 128 128v80c0 8.832031-7.167969 16-16 16zm0 0"></path>
          </svg>
          <input 
            [type]="showConfirmPassword ? 'text' : 'password'" 
            class="input" 
            placeholder="Repite tu contraseña"
            name="confirmPassword"
            [(ngModel)]="confirmPassword"
            required
          >
          <button 
            type="button" 
            class="password-toggle" 
            (click)="toggleConfirmPasswordVisibility()"
            [class.active]="showConfirmPassword"
          >
            <svg viewBox="0 0 576 512" height="1em" xmlns="http://www.w3.org/2000/svg">
              <path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"></path>
            </svg>
          </button>
        </div>
      </div>

      <!-- Location Information -->
      <div class="form-section">
        <h3 class="section-title">
          <i class="fas fa-map-marker-alt"></i>
          Ubicación
        </h3>
        
        <!-- Address -->
        <div class="flex-column">
          <label>Dirección</label>
        </div>
        <div class="inputForm">
          <svg height="20" viewBox="0 0 24 24" width="20" xmlns="http://www.w3.org/2000/svg">
            <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" fill="currentColor"/>
          </svg>
          <input 
            type="text" 
            class="input" 
            placeholder="Calle 123 #45-67"
            name="address"
            [(ngModel)]="userData.address"
            required
          >
        </div>

        <!-- City -->
        <div class="flex-column">
          <label>Ciudad</label>
        </div>
        <div class="inputForm">
          <svg height="20" viewBox="0 0 24 24" width="20" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" fill="currentColor"/>
          </svg>
          <input 
            type="text" 
            class="input" 
            placeholder="Tu ciudad"
            name="city"
            [(ngModel)]="userData.city"
            required
          >
        </div>

        <!-- Department -->
        <div class="flex-column">
          <label>Departamento</label>
        </div>
        <div class="inputForm">
          <svg height="20" viewBox="0 0 24 24" width="20" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" fill="currentColor"/>
          </svg>
          <input 
            type="text" 
            class="input" 
            placeholder="Tu departamento"
            name="department"
            [(ngModel)]="userData.department"
            required
          >
        </div>
      </div>

      <!-- Messages -->
      <div class="message-container" *ngIf="error || success">
        <div class="alert alert-error" *ngIf="error" role="alert">
          <i class="fas fa-exclamation-triangle"></i>
          <span>{{ error }}</span>
        </div>
        <div class="alert alert-success" *ngIf="success" role="alert">
          <i class="fas fa-check-circle"></i>
          <span>{{ success }}</span>
        </div>
      </div>

      <!-- Submit Button -->
      <button 
        type="submit" 
        class="button-submit"
        [disabled]="loading || registerForm.invalid"
      >
        <span *ngIf="!loading">Crear Cuenta</span>
        <span *ngIf="loading">Creando Cuenta...</span>
      </button>

      <p class="p">¿Ya tienes cuenta? <span class="span" (click)="goToLogin()">Iniciar Sesión</span></p>
    </form>

    <!-- Footer -->
    <div class="register-footer">
      <p class="footer-text">
        Al crear una cuenta, aceptas nuestros 
        <button class="footer-link">Términos de Servicio</button> 
        y 
        <button class="footer-link">Política de Privacidad</button>
      </p>
    </div>
  </div>

  <!-- Background Elements -->
  <div class="bg-elements">
    <div class="floating-element" style="top: 10%; left: 10%; animation-delay: 0s;"></div>
    <div class="floating-element" style="top: 20%; right: 15%; animation-delay: 2s;"></div>
    <div class="floating-element" style="bottom: 30%; left: 20%; animation-delay: 4s;"></div>
    <div class="floating-element" style="bottom: 20%; right: 10%; animation-delay: 6s;"></div>
  </div>
</div>
<app-footer></app-footer>