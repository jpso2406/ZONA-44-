<nav class="navbar">
  <!-- Logo -->
  <div class="navbar-logo">
    <a [routerLink]="['/']" class="logo-link">
      <span class="logo-text">ZONA</span>
      <span class="logo-icon">游늸</span>
      <span class="logo-number">44</span>
    </a>
  </div>

  <div class="navbar-container">
    <!-- Navigation Links -->
    <div class="navbar-menu">
      <a [routerLink]="['/']"
         [routerLinkActiveOptions]="{ exact: true }"
         routerLinkActive="active"
         class="nav-link">
        <i class="fas fa-home"></i>
        <span>{{ 'NAVBAR.HOME' | translate }}</span>
      </a>

      <a [routerLink]="['/menu']"
         routerLinkActive="active"
         class="nav-link">
        <i class="fas fa-utensils"></i>
        <span>{{ 'NAVBAR.MENU' | translate }}</span>
      </a>

      <button type="button" (click)="scrollToFooter()" class="nav-link contact-btn">
        <i class="fas fa-envelope"></i>
        <span>{{ 'NAVBAR.CONTACT' | translate }}</span>
      </button>

      <a [routerLink]="['/seguimiento']"
         routerLinkActive="active"
         class="nav-link">
        <i class="fas fa-search"></i>
        <span>{{ 'NAVBAR.SEGUIMIENTO' | translate }}</span>
      </a>

      <!-- Profile Link -->
      <a [routerLink]="isAuthenticated ? ['/perfil'] : ['/login']"
         routerLinkActive="active"
         class="nav-link profile-link"
         [title]="isAuthenticated ? ('NAVBAR.MY_PROFILE' | translate) : ('NAVBAR.LOGIN_TITLE' | translate)">
        <i class="fas fa-user"></i>
        <span>
          {{ isAuthenticated ? (currentUser?.first_name || ('NAVBAR.PROFILE' | translate)) : ('NAVBAR.LOGIN' | translate) }}
        </span>
      </a>

      <!-- Language Switcher Dropdown -->
      <div class="language-switcher" (clickOutside)="closeLanguageDropdown()">
        <button class="lang-btn-main" (click)="toggleLanguageDropdown()">
          <img [src]="'assets/flags/' + (currentLang === 'es' ? 'es' : 'us') + '.svg'" 
               [alt]="currentLang" 
               class="flag-icon">
          <span class="lang-code">{{ currentLang === 'es' ? 'ES' : 'EN' }}</span>
          <i class="fas fa-chevron-down" [class.rotate]="isLanguageDropdownOpen"></i>
        </button>
        
        <div class="language-dropdown" [class.show]="isLanguageDropdownOpen">
          <button class="dropdown-item" 
                  (click)="switchLanguage('es')" 
                  [class.active]="currentLang === 'es'">
            <img src="assets/flags/es.svg" alt="Espa침ol" class="flag-icon">
            <span class="lang-name">Espa침ol</span>
            <i class="fas fa-check" *ngIf="currentLang === 'es'"></i>
          </button>
          <button class="dropdown-item" 
                  (click)="switchLanguage('en')" 
                  [class.active]="currentLang === 'en'">
            <img src="assets/flags/us.svg" alt="English" class="flag-icon">
            <span class="lang-name">English</span>
            <i class="fas fa-check" *ngIf="currentLang === 'en'"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- CTA Button (Reservar - solo este queda) -->
    <a [routerLink]="['/reservas']" class="cta-button">
      <i class="fas fa-calendar-alt"></i>
      <span>{{ 'NAVBAR.RESERVE' | translate }}</span>
    </a>

    <!-- Mobile Menu Toggle -->
    <div class="mobile-menu-toggle">
      <button class="toggle-btn" (click)="toggleMobileMenu()">
        <span class="hamburger"></span>
        <span class="hamburger"></span>
        <span class="hamburger"></span>
      </button>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div class="mobile-menu" [class.active]="isMobileMenuOpen">
    <a [routerLink]="['/']"
       [routerLinkActiveOptions]="{ exact: true }"
       routerLinkActive="active"
       class="mobile-nav-link"
       (click)="closeMobileMenu()">
      <i class="fas fa-home"></i>
      <span>{{ 'NAVBAR.HOME' | translate }}</span>
    </a>

    <a [routerLink]="['/menu']"
       routerLinkActive="active"
       class="mobile-nav-link"
       (click)="closeMobileMenu()">
      <i class="fas fa-utensils"></i>
      <span>{{ 'NAVBAR.MENU' | translate }}</span>
    </a>

    <a href="#about" class="mobile-nav-link" (click)="closeMobileMenu()">
      <i class="fas fa-info-circle"></i>
      <span>{{ 'NAVBAR.ABOUT' | translate }}</span>
    </a>

    <a (click)="scrollToFooter(); closeMobileMenu()" class="mobile-nav-link" style="cursor: pointer;">
      <i class="fas fa-envelope"></i>
      <span>{{ 'NAVBAR.CONTACT' | translate }}</span>
    </a>

    <!-- Profile Link Mobile -->
    <a [routerLink]="isAuthenticated ? ['/perfil'] : ['/login']"
       routerLinkActive="active"
       class="mobile-nav-link"
       (click)="closeMobileMenu()">
      <i class="fas fa-user"></i>
      <span>
        {{ isAuthenticated ? (currentUser?.first_name || ('NAVBAR.PROFILE' | translate)) : ('NAVBAR.LOGIN' | translate) }}
      </span>
    </a>

    <!-- Register Link Mobile -->
    <a *ngIf="!isAuthenticated"
       [routerLink]="['/register']"
       routerLinkActive="active"
       class="mobile-nav-link"
       (click)="closeMobileMenu()">
      <i class="fas fa-user-plus"></i>
      <span>{{ 'NAVBAR.REGISTER' | translate }}</span>
    </a>

    <!-- Language Switcher Mobile -->
    <div class="mobile-language-switcher">
      <button class="mobile-lang-btn" (click)="switchLanguage('es')" [class.active]="currentLang === 'es'">
        <img src="assets/flags/es.svg" alt="Espa침ol" class="flag-icon">
        <span class="lang-name">Espa침ol</span>
        <i class="fas fa-check" *ngIf="currentLang === 'es'"></i>
      </button>
      <button class="mobile-lang-btn" (click)="switchLanguage('en')" [class.active]="currentLang === 'en'">
        <img src="assets/flags/us.svg" alt="English" class="flag-icon">
        <span class="lang-name">English</span>
        <i class="fas fa-check" *ngIf="currentLang === 'en'"></i>
      </button>
    </div>

    <!-- Reservar Button (mobile) -->
    <a [routerLink]="['/reservas']" class="mobile-cta-button" (click)="closeMobileMenu()">
      <i class="fas fa-calendar-alt"></i>
      <span>{{ 'NAVBAR.RESERVE' | translate }}</span>
    </a>
  </div>
</nav>
