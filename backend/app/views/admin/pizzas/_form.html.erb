<%= form_with(model: [:admin, @pizza], class: "pizza-form", local: false, multipart: true) do |f| %>
  <div class="row">
    <div class="col-md-6 mb-3">
      <%= f.label :nombre, "Nombre", class: "form-label" %>
      <%= f.text_field :nombre, class: "form-control" %>
    </div>

    <div class="col-md-6 mb-3">
      <%= f.label :categoria, "Categoría", class: "form-label" %>
      <%= f.select :categoria, 
          [['Tradicional', 'tradicional'], ['Especial', 'especial']], 
          {}, 
          class: "form-select" %>
    </div>
  </div>

  <div class="mb-3">
    <%= f.label :descripcion, "Descripción", class: "form-label" %>
    <%= f.text_area :descripcion, class: "form-control" %>
  </div>

  <div class="mb-3">
    <%= f.label :foto, "Foto", class: "form-label" %>
    <%= f.file_field :foto, class: "form-control" %>
  </div>

  <div class="row mb-3">
    <div class="col-md-6">
      <%= f.label :grupo_id, "Grupo", class: "form-label" %>
      <%= f.collection_select :grupo_id, @grupos, :id, :nombre, {}, class: "form-select" %>
    </div>
  </div>

  <div class="mb-3">
    <div class="form-check">
      <%= f.check_box :borde_queso, class: "form-check-input" %>
      <%= f.label :borde_queso, "Disponible con borde de queso", class: "form-check-label" %>
    </div>
    <div class="form-check">
      <%= f.check_box :combinada, class: "form-check-input" %>
      <%= f.label :combinada, "Disponible combinada", class: "form-check-label" %>
    </div>
  </div>

  <h4 class="mt-4 mb-3">Precios por tamaño</h4>
  
  <%= f.fields_for :tamano_pizzas do |tp| %>
    <div class="row align-items-center mb-3">
      <div class="col">
        <%= tp.label :tamano, class: "form-label" %>
        <%= tp.text_field :tamano, readonly: true, class: "form-control" %>
      </div>
      <div class="col">
        <%= tp.label :tamano_cm, "Tamaño (cm)", class: "form-label" %>
        <%= tp.number_field :tamano_cm, class: "form-control" %>
      </div>
      <div class="col">
        <%= tp.label :precio, "Precio", class: "form-label" %>
        <%= tp.number_field :precio, class: "form-control" %>
      </div>
    </div>
  <% end %>

  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
    <%= f.submit "Guardar", class: "btn btn-primary" %>
  </div>
<% end %>
