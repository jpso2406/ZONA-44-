  <%= stylesheet_link_tag "menu_landing", "data-turbo-track": "reload" %>
<section id="menu-landing"> 

  <!-- 🔹 NAVBAR -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-lg px-4 px-lg-5 py-3 py-lg-0 rounded-bottom-4">
    <a href="<%= root_path %>" class="navbar-brand d-flex align-items-center p-0">
      <%= image_tag 'logo-grande.png', alt: 'Logo', class: 'me-2', style: 'height: 48px; width: auto;' %>
      <span class="fw-bold fs-3 text-warning ms-2 d-none d-md-inline"></span>
    </a>

    <!-- 🔸 Botón hamburguesa -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-label="Toggle navigation">
      <span class="fa fa-bars"></span>
    </button>

    <!-- 🔸 Links -->
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <div class="navbar-nav ms-auto py-0 pe-4">
        <%= link_to t("navbar.inicio", default: "Inicio"), root_path, class: "nav-item nav-link #{current_page?(root_path) ? 'active' : ''}" %>
        <%= link_to t("navbar.categorias", default: "Categorías"), grupo_index_path, class: "nav-item nav-link #{current_page?(grupo_index_path) ? 'active' : ''}" %>
        <%= link_to "Carrito", mostrar_carrito_path, class: "nav-item nav-link" %>

        <!-- 🔸 Selector de idioma -->
        <div class="nav-item dropdown">
          <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
            🌐 <%= I18n.locale.to_s.upcase %>
          </a>
          <div class="dropdown-menu">
            <%= link_to "Español", url_for(locale: :es), class: "dropdown-item" %>
            <%= link_to "English", url_for(locale: :en), class: "dropdown-item" %>
          </div>
        </div>
      </div>

      <!-- 🔸 Usuario/Admin según sesión -->
      <% if user_signed_in? %>
        <div class="d-flex align-items-center ms-2">
          <%= link_to perfil_path, class: "btn btn-outline-light d-flex align-items-center me-2", title: "Mi perfil" do %>
            <i class="fa fa-user fa-lg me-2"></i>
            <span class="fw-bold d-none d-lg-inline">Mi perfil</span>
          <% end %>

          <%= link_to "Cerrar sesión", destroy_user_session_path, method: :delete, 
                      data: { turbo: false, confirm: "¿Deseas cerrar sesión?" }, 
                      class: "btn btn-sm btn-outline-danger ms-2" %>
        </div>
      <% else %>
        <%= link_to new_user_session_path, class: "btn btn-sm btn-primary ms-2" do %>
          Iniciar sesión
        <% end %>
      <% end %>
    </div>
  </nav>

  <!-- 🔹 HERO -->
  <header class="hero">
    <div class="overlay"></div>
    <div class="hero-content">
      <h1>¡El mejor sabor en un clic! 🍔</h1>
      <p>Disfruta comida rápida como nunca antes</p>
      <a href="#categorias" class="btn-hero">Explorar menú</a>
    </div>
  </header>

<!-- CATEGORÍAS -->
<div class="categorias-scroll">
  <% @grupos.each do |grupo| %>
    <%= link_to grupo.nombre,
        grupo_producto_index_path(grupo),
        class: "boton-categoria" %>
  <% end %>
</div>

  <!-- 🔹 GRID DE GRUPOS -->
  <div class="contenedor-grupos">
    <% @grupos.each do |grupo| %>
      <div class="tarjeta-grupo">
        <%= link_to grupo_producto_index_path(grupo), class: "enlace-grupo" do %>
          <div class="imagen-grupo">
            <%= grupo.foto.attached? ? image_tag(grupo.foto, alt: grupo.nombre) : image_tag("logo.jpg", alt: t('grupos.no_image')) %>
          </div>
          <div class="contenido-grupo">
            <h3 class="nombre-grupo"><%= grupo.nombre %></h3>
            <button class="btn-ver">Ver más</button>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>
</section>

<style>
  
.categorias-scroll {
  display: flex;
  overflow-x: auto;
  gap: 0.6rem;
  padding: 0.6rem 0.4rem;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

.categorias-scroll::-webkit-scrollbar {
  height: 6px;
}

.categorias-scroll::-webkit-scrollbar-thumb {
  background: #ccc;
  border-radius: 10px;
}

.categorias-scroll a {
  flex: 0 0 auto;
  padding: 0.5rem 1rem;
  border-radius: 20px;
  background: #f5f5f5;
  cursor: pointer;
  font-weight: 600;
  font-size: 0.9rem;
  color: #333;
  text-decoration: none;
  transition: background 0.3s, color 0.3s, transform 0.2s;
  white-space: nowrap;
}

.categorias-scroll a:hover {
  background: #ff5722;
  color: white;
  transform: translateY(-2px);
}

.categorias-scroll a.activo {
  background: #ff5722;
  color: white;
  box-shadow: 0 2px 6px rgba(255, 87, 34, 0.3);
}
</style>